[32m[INFO] [0mLogger initialized.
[32m[INFO] [0mLoading configuration from: ./conf/webserv_py_cgi.conf
[36m[DEBUG] [0mConfigLexer initialized.
[36m[DEBUG] [0mConfigParser initialized.
[32m[INFO] [0mConfigProvider initialized with parser.
[36m[DEBUG] [0mInitializing parser for: ./conf/webserv_py_cgi.conf
[36m[DEBUG] [0mTokenized 277 tokens from ./conf/webserv_py_cgi.conf
[36m[DEBUG] [0mCurrent tokens (277):
  [Line 1] STRING: 'http'
  [Line 1] BLOCK_START: '{'
  [Line 2] STRING: 'error_page'
  [Line 2] STRING: '400'
  [Line 2] STRING: '/errors/400.html'
  [Line 2] SEMICOLON: ';'
  [Line 3] STRING: 'error_page'
  [Line 3] STRING: '404'
  [Line 3] STRING: '/errors/404.html'
  [Line 3] SEMICOLON: ';'
  [Line 4] STRING: 'error_page'
  [Line 4] STRING: '405'
  [Line 4] STRING: '/errors/405.html'
  [Line 4] SEMICOLON: ';'
  [Line 5] STRING: 'error_page'
  [Line 5] STRING: '413'
  [Line 5] STRING: '/errors/413.html'
  [Line 5] SEMICOLON: ';'
  [Line 6] STRING: 'error_page'
  [Line 6] STRING: '500'
  [Line 6] STRING: '502'
  [Line 6] STRING: '503'
  [Line 6] STRING: '504'
  [Line 6] STRING: '/errors/50x.html'
  [Line 6] SEMICOLON: ';'
  [Line 8] STRING: 'client_max_body_size'
  [Line 8] STRING: '10m'
  [Line 8] SEMICOLON: ';'
  [Line 10] STRING: 'include'
  [Line 10] STRING: 'sites-available/*.conf'
  [Line 10] SEMICOLON: ';'
  [Line 12] STRING: 'server'
  [Line 12] BLOCK_START: '{'
  [Line 13] STRING: 'listen'
  [Line 13] STRING: '80'
  [Line 13] SEMICOLON: ';'
  [Line 14] STRING: 'listen'
  [Line 14] STRING: '[::]:80'
  [Line 14] SEMICOLON: ';'
  [Line 15] STRING: 'listen'
  [Line 15] STRING: '80'
  [Line 15] STRING: 'default_server'
  [Line 15] SEMICOLON: ';'
  [Line 16] STRING: 'server_name'
  [Line 16] STRING: 'webserv.com'
  [Line 16] STRING: 'www.webserv.com'
  [Line 16] STRING: '_'
  [Line 16] SEMICOLON: ';'
  [Line 18] STRING: 'root'
  [Line 18] STRING: '/var/www/html'
  [Line 18] SEMICOLON: ';'
  [Line 19] STRING: 'index'
  [Line 19] STRING: 'index.html'
  [Line 19] STRING: 'index.htm'
  [Line 19] SEMICOLON: ';'
  [Line 21] STRING: 'location'
  [Line 21] STRING: '/'
  [Line 21] BLOCK_START: '{'
  [Line 22] STRING: 'limit_except'
  [Line 22] STRING: 'GET'
  [Line 22] STRING: 'POST'
  [Line 22] STRING: 'DELETE'
  [Line 22] BLOCK_START: '{'
  [Line 22] STRING: 'deny'
  [Line 22] STRING: 'all'
  [Line 22] SEMICOLON: ';'
  [Line 22] BLOCK_END: '}'
  [Line 24] STRING: 'autoindex'
  [Line 24] STRING: 'off'
  [Line 24] SEMICOLON: ';'
  [Line 26] STRING: 'try_files'
  [Line 26] STRING: '$uri'
  [Line 26] STRING: '$uri/'
  [Line 26] STRING: '=404'
  [Line 26] SEMICOLON: ';'
  [Line 27] BLOCK_END: '}'
  [Line 29] STRING: 'location'
  [Line 29] STRING: '/upload'
  [Line 29] BLOCK_START: '{'
  [Line 30] STRING: 'limit_except'
  [Line 30] STRING: 'POST'
  [Line 30] BLOCK_START: '{'
  [Line 30] STRING: 'deny'
  [Line 30] STRING: 'all'
  [Line 30] SEMICOLON: ';'
  [Line 30] BLOCK_END: '}'
  [Line 32] STRING: 'upload_store'
  [Line 32] STRING: '/var/uploads'
  [Line 32] SEMICOLON: ';'
  [Line 33] STRING: 'upload_store_permissions'
  [Line 33] STRING: '0660'
  [Line 33] SEMICOLON: ';'
  [Line 34] STRING: 'upload_store_access'
  [Line 34] STRING: 'user:rw'
  [Line 34] STRING: 'group:rw'
  [Line 34] STRING: 'all:r'
  [Line 34] SEMICOLON: ';'
  [Line 36] STRING: 'autoindex'
  [Line 36] STRING: 'on'
  [Line 36] SEMICOLON: ';'
  [Line 38] STRING: 'try_files'
  [Line 38] STRING: '/upload_success.html'
  [Line 38] STRING: '=200'
  [Line 38] SEMICOLON: ';'
  [Line 39] BLOCK_END: '}'
  [Line 41] STRING: 'location'
  [Line 41] STRING: '/old-path'
  [Line 41] BLOCK_START: '{'
  [Line 42] STRING: 'return'
  [Line 42] STRING: '301'
  [Line 42] STRING: 'http://$host/new-path'
  [Line 42] SEMICOLON: ';'
  [Line 43] BLOCK_END: '}'
  [Line 45] STRING: 'location'
  [Line 45] STRING: '/api'
  [Line 45] BLOCK_START: '{'
  [Line 46] STRING: 'root'
  [Line 46] STRING: '/var/www/api'
  [Line 46] SEMICOLON: ';'
  [Line 48] STRING: 'limit_except'
  [Line 48] STRING: 'GET'
  [Line 48] STRING: 'POST'
  [Line 48] BLOCK_START: '{'
  [Line 48] STRING: 'deny'
  [Line 48] STRING: 'all'
  [Line 48] SEMICOLON: ';'
  [Line 48] BLOCK_END: '}'
  [Line 50] STRING: 'autoindex'
  [Line 50] STRING: 'off'
  [Line 50] SEMICOLON: ';'
  [Line 52] STRING: 'location'
  [Line 52] STRING: '~'
  [Line 52] STRING: '\.php$'
  [Line 52] BLOCK_START: '{'
  [Line 53] STRING: 'script'
  [Line 53] STRING: '/usr/bin/php-cgi'
  [Line 53] SEMICOLON: ';'
  [Line 54] STRING: 'cgi_root'
  [Line 54] STRING: '/var/www/api'
  [Line 54] SEMICOLON: ';'
  [Line 56] STRING: 'fastcgi_param'
  [Line 56] STRING: 'SCRIPT_FILENAME'
  [Line 56] STRING: '$document_root$fastcgi_script_name'
  [Line 56] SEMICOLON: ';'
  [Line 57] STRING: 'include'
  [Line 57] STRING: 'fastcgi_params'
  [Line 57] SEMICOLON: ';'
  [Line 58] BLOCK_END: '}'
  [Line 60] STRING: 'try_files'
  [Line 60] STRING: '$uri'
  [Line 60] STRING: '$uri/'
  [Line 60] STRING: '@php_fallback'
  [Line 60] SEMICOLON: ';'
  [Line 61] STRING: 'location'
  [Line 61] STRING: '@php_fallback'
  [Line 61] BLOCK_START: '{'
  [Line 62] STRING: 'return'
  [Line 62] STRING: '404'
  [Line 62] SEMICOLON: ';'
  [Line 63] BLOCK_END: '}'
  [Line 64] BLOCK_END: '}'
  [Line 66] STRING: 'error_page'
  [Line 66] STRING: '404'
  [Line 66] STRING: '/custom/404.html'
  [Line 66] SEMICOLON: ';'
  [Line 67] STRING: 'error_page'
  [Line 67] STRING: '413'
  [Line 67] STRING: '/custom/413.html'
  [Line 67] SEMICOLON: ';'
  [Line 68] BLOCK_END: '}'
  [Line 70] STRING: 'server'
  [Line 70] BLOCK_START: '{'
  [Line 71] STRING: 'listen'
  [Line 71] STRING: '127.0.0.1:8080'
  [Line 71] SEMICOLON: ';'
  [Line 72] STRING: 'listen'
  [Line 72] STRING: '[::1]:8080'
  [Line 72] SEMICOLON: ';'
  [Line 73] STRING: 'server_name'
  [Line 73] STRING: 'dev.localhost'
  [Line 73] SEMICOLON: ';'
  [Line 75] STRING: 'root'
  [Line 75] STRING: '/var/www/dev'
  [Line 75] SEMICOLON: ';'
  [Line 76] STRING: 'index'
  [Line 76] STRING: 'index.py'
  [Line 76] STRING: 'index.html'
  [Line 76] SEMICOLON: ';'
  [Line 78] STRING: 'location'
  [Line 78] STRING: '/'
  [Line 78] BLOCK_START: '{'
  [Line 79] STRING: 'limit_except'
  [Line 79] STRING: 'GET'
  [Line 79] STRING: 'POST'
  [Line 79] STRING: 'DELETE'
  [Line 79] BLOCK_START: '{'
  [Line 79] STRING: 'deny'
  [Line 79] STRING: 'all'
  [Line 79] SEMICOLON: ';'
  [Line 79] BLOCK_END: '}'
  [Line 81] STRING: 'autoindex'
  [Line 81] STRING: 'on'
  [Line 81] SEMICOLON: ';'
  [Line 83] STRING: 'try_files'
  [Line 83] STRING: '$uri'
  [Line 83] STRING: '$uri/'
  [Line 83] STRING: '@python_cgi'
  [Line 83] SEMICOLON: ';'
  [Line 84] BLOCK_END: '}'
  [Line 86] STRING: 'location'
  [Line 86] STRING: '/cgi-bin'
  [Line 86] BLOCK_START: '{'
  [Line 87] STRING: 'root'
  [Line 87] STRING: '/var/www/cgi'
  [Line 87] SEMICOLON: ';'
  [Line 89] STRING: 'limit_except'
  [Line 89] STRING: 'GET'
  [Line 89] STRING: 'POST'
  [Line 89] BLOCK_START: '{'
  [Line 89] STRING: 'deny'
  [Line 89] STRING: 'all'
  [Line 89] SEMICOLON: ';'
  [Line 89] BLOCK_END: '}'
  [Line 91] STRING: 'location'
  [Line 91] STRING: '~'
  [Line 91] STRING: '\.py$'
  [Line 91] BLOCK_START: '{'
  [Line 92] STRING: 'script'
  [Line 92] STRING: '/usr/bin/python3'
  [Line 92] SEMICOLON: ';'
  [Line 93] STRING: 'cgi_root'
  [Line 93] STRING: '/var/www/cgi'
  [Line 93] SEMICOLON: ';'
  [Line 95] STRING: 'fastcgi_param'
  [Line 95] STRING: 'SCRIPT_FILENAME'
  [Line 95] STRING: '$document_root$fastcgi_script_name'
  [Line 95] SEMICOLON: ';'
  [Line 96] STRING: 'include'
  [Line 96] STRING: 'fastcgi_params'
  [Line 96] SEMICOLON: ';'
  [Line 97] BLOCK_END: '}'
  [Line 99] STRING: 'autoindex'
  [Line 99] STRING: 'off'
  [Line 99] SEMICOLON: ';'
  [Line 100] BLOCK_END: '}'
  [Line 102] STRING: 'location'
  [Line 102] STRING: '/dev-upload'
  [Line 102] BLOCK_START: '{'
  [Line 103] STRING: 'limit_except'
  [Line 103] STRING: 'POST'
  [Line 103] BLOCK_START: '{'
  [Line 103] STRING: 'deny'
  [Line 103] STRING: 'all'
  [Line 103] SEMICOLON: ';'
  [Line 103] BLOCK_END: '}'
  [Line 104] STRING: 'upload_store'
  [Line 104] STRING: '/var/uploads/dev'
  [Line 104] SEMICOLON: ';'
  [Line 105] STRING: 'upload_store_permissions'
  [Line 105] STRING: '0664'
  [Line 105] SEMICOLON: ';'
  [Line 106] STRING: 'autoindex'
  [Line 106] STRING: 'on'
  [Line 106] SEMICOLON: ';'
  [Line 107] BLOCK_END: '}'
  [Line 109] STRING: 'location'
  [Line 109] STRING: '='
  [Line 109] STRING: '/temp-redirect'
  [Line 109] BLOCK_START: '{'
  [Line 110] STRING: 'return'
  [Line 110] STRING: '302'
  [Line 110] STRING: 'https://dev.localhost/secure'
  [Line 110] SEMICOLON: ';'
  [Line 111] BLOCK_END: '}'
  [Line 112] BLOCK_END: '}'
  [Line 113] BLOCK_END: '}'
  [Line 113] EOF

[36m[DEBUG] [0mEntering http block at line 1
[36m[DEBUG] [0mParsing http block content
[36m[DEBUG] [0mSet error_page 400 -> '/errors/400.html' at line 2
[36m[DEBUG] [0mProcessed directive 'error_page' with 2 arguments at line 2
[36m[DEBUG] [0mSet error_page 404 -> '/errors/404.html' at line 3
[36m[DEBUG] [0mProcessed directive 'error_page' with 2 arguments at line 3
[36m[DEBUG] [0mSet error_page 405 -> '/errors/405.html' at line 4
[36m[DEBUG] [0mProcessed directive 'error_page' with 2 arguments at line 4
[36m[DEBUG] [0mSet error_page 413 -> '/errors/413.html' at line 5
[36m[DEBUG] [0mProcessed directive 'error_page' with 2 arguments at line 5
[36m[DEBUG] [0mSet error_page 500 -> '/errors/50x.html' at line 6
[36m[DEBUG] [0mSet error_page 502 -> '/errors/50x.html' at line 6
[36m[DEBUG] [0mSet error_page 503 -> '/errors/50x.html' at line 6
[36m[DEBUG] [0mSet error_page 504 -> '/errors/50x.html' at line 6
[36m[DEBUG] [0mProcessed directive 'error_page' with 5 arguments at line 6
[36m[DEBUG] [0mSet client_max_body_size to 10m at line 8
[36m[DEBUG] [0mProcessed directive 'client_max_body_size' with 1 arguments at line 8
[32m[INFO] [0mProcessing include directive: 'sites-available/*.conf' at line 10
[33m[WARN] [0mCannot open directory: sites-available
[33m[WARN] [0mNo files matched include pattern: sites-available/*.conf
[32m[INFO] [0mSuccessfully processed include: 'sites-available/*.conf'
[36m[DEBUG] [0mProcessed directive 'include' with 1 arguments at line 10
[36m[DEBUG] [0mParsing server block content
[36m[DEBUG] [0mAdded listen directive '80' at line 13
[36m[DEBUG] [0mProcessed directive 'listen' with 1 arguments at line 13
[36m[DEBUG] [0mAdded listen directive '[::]:80' at line 14
[36m[DEBUG] [0mProcessed directive 'listen' with 1 arguments at line 14
[31m[ERROR] [0mConfiguration error: unexpected error during configuration load: invalid directive: Invalid listen directive format: Invalid listen directive format: 80 - Duplicate listen directive: 80 at line 15
